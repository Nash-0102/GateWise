<% layout('layouts/layout') %>
<% locals.title = 'Edit Member' %>

<div class="min-h-screen bg-slate-950 p-6 lg:p-10 flex justify-center">
  <div class="w-full max-w-2xl">
    <div class="mb-8">
      <a href="/manage" class="inline-flex items-center gap-2 text-sm font-medium text-slate-400 hover:text-white transition-colors group">
        <!-- back icon -->
        <span>Cancel & Back to Directory</span>
      </a>
    </div>

    <div class="bg-slate-900/50 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl overflow-hidden">
      <div class="px-8 py-6 border-b border-white/10 bg-white/[0.02]">
        <h1 class="text-2xl font-bold text-white tracking-tight">Edit Member</h1>
        <p class="text-sm text-slate-400 mt-1">Update member information below.</p>
      </div>

      <!-- NOTE: ensure 'member' is the object passed from the route -->
      <form action="/manage/<%= member._id %>?_method=PUT" method="POST" class="p-8 space-y-6">

        <!-- Full Name -->
        <div>
          <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Full Name</label>
          <input type="text" name="fullName" value="<%= member.profile?.fullName || '' %>" placeholder="e.g. Rahul Sharma"
            class="block w-full rounded-xl border bg-slate-950/50 text-white pl-3 pr-4 py-3 sm:text-sm">
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- House -->
          <div>
            <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">House Number / Details</label>
            <input type="text" name="houseNo" value="<%= member.profile?.houseNo || '' %>" placeholder="e.g. A-402, Gokuldham"
               class="block w-full rounded-xl border bg-slate-950/50 text-white pl-3 pr-4 py-3 sm:text-sm">
          </div>

          <!-- Phone -->
          <div>
            <label class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Phone Number</label>
            <input type="text" name="phone" value="<%= member.profile?.phone || '' %>" placeholder="e.g. 9876543210"
               class="block w-full rounded-xl border bg-slate-950/50 text-white pl-3 pr-4 py-3 sm:text-sm">
          </div>
        </div>

        <div class="pt-6 border-t border-white/5 flex items-center justify-end gap-4">
          <a href="/manage" class="px-5 py-2.5 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 transition-all">Cancel</a>
          <button type="submit" class="px-6 py-2.5 bg-indigo-600 text-white text-sm font-semibold rounded-lg">Save Changes</button>
        </div>

      </form>
    </div>
  </div>
</div>
